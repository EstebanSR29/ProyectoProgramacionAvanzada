@model List<ProyectoG6.BaseDatos.FacturaDetalle_Result>
@{
    ViewBag.Title = "FacturaDetalle";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<br />

<div class="form-group text-left">
    <a href="@Url.Action("ConsultarFacturas", "Carrito")" class="btn btn-secondary btn-lg ms-2">
        <i class="fas fa-arrow-left"></i> Volver a Facturas
    </a>
</div>

<h2 class="text-center my-4">
    <i class="fa fa-receipt"></i> Factura
</h2>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-12 col-lg-10">
            <div class="table-responsive">
                <table id="tablaFactura" class="table table-striped table-bordered table-hover">
                    <thead class="thead-dark">
                        <tr class="text-center">
                            <th>Producto</th>
                            <th>Cantidad</th>
                            <th>Precio Unitario</th>
                            <th>Subtotal</th>
                            <th>IVA</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td class="text-center">@item.Nombre</td>
                                <td class="text-center">@item.Cantidad</td>
                                <td class="text-center">₡ @item.PrecioUnitario</td>
                                <td class="text-center">₡ @item.Subtotal</td>
                                <td class="text-center">₡ @item.Impuesto</td>
                                <td class="text-center">₡ @item.Total</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            <div class="text-end mt-4">
                <h4>
                    <strong>Impuestos:</strong>
                    @Html.Raw("<span class='text-success'>₡" + Model.Sum(item => item.Impuesto).ToString("N2") + "</span>")
                </h4>
                <h4>
                    <strong>Total a pagar:</strong>
                    @Html.Raw("<span class='text-success'>₡" + Model.Sum(item => item.Total).ToString("N2") + "</span>")
                </h4>
            </div>
        </div>
    </div>
</div>
<br />
<br />